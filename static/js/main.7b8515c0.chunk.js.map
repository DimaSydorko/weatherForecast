{"version":3,"sources":["components/Header/Header.module.css","reportWebVitals.js","api/api.js","redux/weatherInDay-reducer.js","redux/redux-store.js","components/Header/searchResult.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.js","App.js","components/hoc/withSuspense.jsx","index.js","components/Weather/Weather.module.css","redux/dayWeather-selector.js","App.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","weatherAPI","locationKey","key","axios","get","response","data","cityName","SET_DAYS_WEATHER","SET_SEARCH_LOCATION","TOGGLE_IS_FETCHING","WRONG_CITY_NAME","initualState","isFetching","error","searchInProgres","daysWeather","toggleIsFechingAC","type","DayWeatherReduser","state","action","location","reducers","combineReducers","dayWeather","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","__store__","SearchLocationResult","daysWeatherRequest","className","styles","searchLocation","to","Key","searchLocationLink","onClick","EnglishName","AdministrativeArea","Country","ID","Region","validationSchema","yup","shape","searchCity","max","required","Header","search","searchResults","headerSolid","initialValues","onSubmit","formData","handleSubmit","handleChange","touched","errors","errorSearch","searchButton","dropdown","name","placeholder","autocomplete","onChange","dropdownСontent","map","loc","headerText","HeaderContainer","this","props","React","Component","connect","getSearchResult","dispatch","a","length","DayWeatherContainer","lazy","App","BG","path","render","Suspense","fallback","loading","withRouter","ReactDOM","document","getElementById","getDaysWeather","createSelector","days","DailyForecasts","filter","u","getForecastHeadline","Headline","getIsFetching","getErrorSearch"],"mappings":"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","file":"static/js/main.7b8515c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerSolid\":\"Header_headerSolid__AJvSM\",\"headerText\":\"Header_headerText__2EhN8\",\"searchButton\":\"Header_searchButton__Fz4Nd\",\"errorSearch\":\"Header_errorSearch__8Tfxl\",\"search\":\"Header_search__3EdJV\",\"dropdown\":\"Header_dropdown__17KQk\",\"dropdownСontent\":\"Header_dropdownСontent__3KQe2\",\"searchResult\":\"Header_searchResult__2atBe\",\"searchLocation\":\"Header_searchLocation__3ILcH\",\"searchLocationLink\":\"Header_searchLocationLink__1QDDj\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios from \"axios\"\r\n\r\nexport const weatherAPI = {\r\n  getWeather (locationKey, key='6soIrRVXO04MQFY4YXJEnRaUuuvob0Uo') {\r\n    return axios.get(`https://dataservice.accuweather.com/forecasts/v1/daily/5day/${locationKey}?apikey=${key}`)\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n  },\r\n    \r\n  getSearchLocation (cityName, key=\"6soIrRVXO04MQFY4YXJEnRaUuuvob0Uo\") {\r\n    return axios.get(`https://dataservice.accuweather.com/locations/v1/cities/search?apikey=${key}&q=${cityName}&details=${false}&offset=${1}`)\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n  },\r\n} ","import { weatherAPI } from '../api/api'\r\n\r\nconst SET_DAYS_WEATHER = 'weatherInDay/SET_DAYS_WEATHER'\r\nconst SET_SEARCH_LOCATION = 'weatherInDay/SET_SEARCH_LOCATION'\r\nconst TOGGLE_IS_FETCHING = 'weatherInDay/TOGGLE_IS_FETCHING'\r\nconst WRONG_CITY_NAME = 'weatherInDay/WRONG_CITY_NAME'\r\n\r\nlet initualState = { \r\n  isFetching: false,\r\n  error: null,\r\n  searchInProgres: [],\r\n  daysWeather: [],\r\n}\r\n\r\n\r\nconst DayWeatherReduser = (state = initualState, action) => { \r\n  switch (action.type) {\r\n    case SET_DAYS_WEATHER:{\r\n      return{...state, daysWeather: action.daysWeather, error: null}\r\n    }\r\n    case SET_SEARCH_LOCATION:{\r\n      return{...state, searchInProgres: action.location, error: null}\r\n    }\r\n    case TOGGLE_IS_FETCHING: { \r\n      return {...state, isFetching: action.isFetching, error: null}\r\n    }\r\n    case WRONG_CITY_NAME: { \r\n      return {\r\n        ...state,  \r\n        daysWeather: [], \r\n        searchInProgres: [], \r\n        error: 'Sorry this city non-existent, maybe you made a mistake.'\r\n      }\r\n    }\r\n    default: \r\n      return state\r\n  }\r\n}\r\n\r\nexport const setDaysWeatherAC = (daysWeather) => ({type: SET_DAYS_WEATHER, daysWeather})\r\nexport const setSearchLocationAC = (location) => ({type: SET_SEARCH_LOCATION, location})\r\nexport const toggleIsFechingAC = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const wrongCityNameAC = () => ({type: WRONG_CITY_NAME})\r\n\r\nexport const search = (cityName) => async (dispatch) => {\r\n  dispatch(toggleIsFechingAC(true))\r\n  let data = await weatherAPI.getSearchLocation(cityName)\r\n  dispatch(toggleIsFechingAC(false))\r\n  \r\n  data.length > 0 \r\n    ? dispatch(setSearchLocationAC(data))\r\n    : dispatch(wrongCityNameAC()) \r\n}\r\n\r\nexport const daysWeatherRequest =  (locationKey) =>{\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFechingAC(true))\r\n    let data = await weatherAPI.getWeather(locationKey)\r\n    dispatch(toggleIsFechingAC(false))\r\n\r\n    dispatch(setDaysWeatherAC(data))\r\n  }\r\n}\r\n\r\nexport default DayWeatherReduser","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport DayWeatherReduser from './weatherInDay-reducer';\r\n\r\nlet reducers = combineReducers({\r\n  dayWeather: DayWeatherReduser,\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)))\r\nwindow.__store__ = store\r\n\r\nexport default store","import { NavLink } from 'react-router-dom'\r\nimport styles from './Header.module.css'\r\n\r\nlet SearchLocationResult = ({location, daysWeatherRequest}) => {\r\n  let weatherRequestByPosition = (locationKey) => {\r\n    daysWeatherRequest(locationKey)\r\n  } \r\n\r\n  return(\r\n    <div className={styles.searchLocation}>\r\n      <NavLink to={'/weather/'+location.Key} className={styles.searchLocationLink}\r\n        onClick={() => weatherRequestByPosition(location.Key)}>\r\n          <div>\r\n            {location.EnglishName} {location.AdministrativeArea.EnglishName} {location.Country.ID} {location.Region.ID} \r\n          </div>\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchLocationResult","import { Field, Form, Formik } from 'formik'\r\nimport React from 'react'\r\nimport styles from './Header.module.css'\r\nimport * as yup from 'yup'\r\nimport SearchLocationResult from './searchResult'\r\n\r\nconst validationSchema = yup.object().shape({\r\n  searchCity: yup.string()\r\n    .max(20, 'Too long name')\r\n    .required('Required'),\r\n})\r\n\r\nlet Header = ({search, searchResults, daysWeatherRequest}) => {\r\n  return (\r\n    <div className={styles.headerSolid}>\r\n      <div className={styles.search}>\r\n        <Formik\r\n        initialValues={{}}\r\n        validationSchema={validationSchema}\r\n        onSubmit={formData => {\r\n          search(formData.searchCity)\r\n        }}>\r\n          {({handleSubmit, handleChange, touched, errors}) => (\r\n            <Form onSubmit={handleSubmit}>\r\n              {errors.searchCity && touched.searchCity ? (\r\n                <div className={styles.errorSearch}>{errors.searchCity}</div>\r\n              ) : null}\r\n\r\n              <button className={styles.searchButton} type='submit'>Search</button>\r\n              \r\n              <div className={styles.dropdown}>\r\n                <Field\r\n                  type={'search'}\r\n                  name={'searchCity'}\r\n                  placeholder={'Write city...'}\r\n                  autocomplete={\"off\"}\r\n                  onChange={handleChange}\r\n                />\r\n              <div className={styles.dropdownСontent}>\r\n                  {searchResults.map(loc => \r\n                    <SearchLocationResult \r\n                    daysWeatherRequest={daysWeatherRequest}\r\n                    location={loc} \r\n                    key={loc.Key}/>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              \r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n      <header className={styles.headerText}>\r\n        Weather forecast\r\n      </header>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { getSearchResult } from '../../redux/dayWeather-selector';\r\nimport { daysWeatherRequest, search } from '../../redux/weatherInDay-reducer';\r\nimport Header from './Header';\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return<div>\r\n      <Header search={this.props.search}\r\n        searchResults={this.props.searchResults}\r\n        daysWeatherRequest={this.props.daysWeatherRequest}/>\r\n    </div>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return{\r\n    search: state.search,\r\n    searchResults: getSearchResult(state),\r\n  } \r\n}\r\n\r\nexport default compose (\r\n  connect(mapStateToProps, {search, daysWeatherRequest}) \r\n)(HeaderContainer)","import styles from'./App.module.css';\nimport React, { Component } from 'react';\nimport { Route, Switch, withRouter } from 'react-router';\nimport { compose } from 'redux';\nimport { withSuspense } from './components/hoc/withSuspense';\nimport HeaderContainer from './components/Header/HeaderContainer';\nconst DayWeatherContainer = React.lazy(() => import ('./components/Weather/DayWeatherContainer'))\n\nclass App extends Component {\n  render() {\n    return (\n      <div className={styles.BG}>\n        <HeaderContainer/>\n        <div>\n          <Switch>\n            <Route path='*'  render={withSuspense(DayWeatherContainer)}/>\n          </Switch>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default compose(withRouter) (App)","import React from \"react\"\r\nimport styles from '../Weather/Weather.module.css'\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n    return <React.Suspense fallback={\r\n      <div className={styles.loading}>Loading...</div>\r\n    }>\r\n      <Component {...props}/>\r\n    </React.Suspense>\r\n  }\r\n}","import './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport reportWebVitals from './reportWebVitals';\nimport store from './redux/redux-store';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </BrowserRouter>, document.getElementById('root')\n)\n\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"weekForecast\":\"Weather_weekForecast__SuNQv\",\"date\":\"Weather_date__XfjYk\",\"dayInWeekContainer\":\"Weather_dayInWeekContainer__mTyMU\",\"coverDays\":\"Weather_coverDays__pbLxq\",\"dayInWeek\":\"Weather_dayInWeek__29OUR\",\"weatherImg\":\"Weather_weatherImg__9DRxK\",\"dayNighth\":\"Weather_dayNighth__1h2cV\",\"temp\":\"Weather_temp__ugF-R\",\"forecastHeadline\":\"Weather_forecastHeadline__UZiau\",\"loading\":\"Weather_loading__3wZyz\",\"errorSearch\":\"Weather_errorSearch__2oy4R\"};","import { createSelector } from \"reselect\"\r\n\r\nconst getDaysWeatherSelector = (state) => {\r\n  return state.dayWeather\r\n}\r\n\r\nexport const getDaysWeather = createSelector(getDaysWeatherSelector, \r\n  (days) => {\r\n    if (days.daysWeather != 0) \r\n      return days.daysWeather.DailyForecasts.filter(u => true)\r\n    else return null\r\n})\r\n\r\nexport const getForecastHeadline = (state) => {\r\n  if (state.dayWeather.daysWeather != 0) \r\n  return state.dayWeather.daysWeather.Headline\r\nelse return null\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.dayWeather.isFetching\r\n}\r\n\r\nexport const getSearchResult = (state) => {\r\n  return state.dayWeather.searchInProgres\r\n}\r\n\r\nexport const getErrorSearch = (state) => {\r\n  return state.dayWeather.error\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BG\":\"App_BG__2eJXm\",\"NotFound\":\"App_NotFound__30-mw\"};"],"sourceRoot":""}